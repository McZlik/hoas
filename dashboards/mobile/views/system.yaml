type: masonry
path: system
title: System
icon: mdi:desktop-classic
cards:
  - type: custom:mushroom-chips-card
    chips:
      - type: back
  - type: vertical-stack
    cards:
      - type: conditional
        conditions:
          - entity: input_boolean.restart_required
            state: 'on'
        card:
          type: custom:button-card
          name: Restart Home Assistant
          icon: mdi:restart
          color_type: icon
          color: red
          tap_action:
            action: call-service
            confirmation:
              text: "Restart Home Assistant now?"
            service: script.restart_homeassistant
          styles:
            card:
              - padding: 12px
            name:
              - font-weight: 600
            icon:
              - width: 32px
              - height: 32px

      - type: custom:mushroom-entity-card
        entity: sensor.last_git_commit
        name: Last Commit
        icon: mdi:source-commit
        secondary_info: last-updated
        tap_action:
          action: perform-action
          perform_action: script.get_commit_info
          target: { }

      - type: custom:button-card
        name: Git Pull
        icon: mdi:git
        color_type: icon
        color: var(--primary-color)
        tap_action:
          action: call-service
          service: script.git_pull
        styles:
          card:
            - padding: 12px
          name:
            - font-weight: 600
          icon:
            - width: 32px
            - height: 32px

      - type: custom:button-card
        name: Update Telegram Bot
        icon: mdi:file-replace-outline
        color_type: icon
        color: var(--primary-color)
        tap_action:
          action: call-service
          service: script.replace_telegram_id
        styles:
          card:
            - padding: 12px
          name:
            - font-weight: 600
          icon:
            - width: 32px
            - height: 32px