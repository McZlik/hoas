default_config:

# Basic Home Assistant Configuration
http:
  use_x_forwarded_for: true
  trusted_proxies:
    - 10.0.0.0/8
    - 172.16.0.0/12
    - 192.168.0.0/16

# Database
recorder:
  db_url: !secret psql_string
  db_retry_wait: 15 # Wait 15 seconds before retrying
  exclude:
    domains:
      - automation
      - updater
    entity_globs:
      - sensor.weather_*
    entities:
      - sun.sun # Don't record sun data
      - sensor.last_boot # Comes from 'systemmonitor' sensor platform
      - sensor.date
    event_types:
      - call_service # Don't record service calls


automation:
  - !include automations.yaml
  - alias: "Frigate Notifications - Thijs"
    id: frigate_notifications_thijs
    use_blueprint:
      path: SgtBatten/Beta.yaml
      input:
        camera:
          - camera.driveway
          - camera.backyard
        notify_device: e4405accf87ba6b900191d60c1299b05
        base_url: https://ha.mczlik.com
        critical: "true"
        video: >-
          {{base_url}}/api/frigate{{client_id}}/notifications/{{review_id}}/review_preview.gif?format=ts
        final_update: true
        attachment_2: >-
          {{base_url}}/api/frigate{{client_id}}/notifications/{{id}}/snapshot.jpg?bbox=1
        icon: >-
          mdi:{{'account-outline' if label == 'Person' else 'dog' if label == 'Dog'
          else 'cat' if label == 'Cat' else 'car' if label == 'Car' else
          'home-assistant'}}
        android_auto: true
        sticky: true
        loiter_timer: 60
        telegram_base_url: http://homeassistant.internal
        notify_telegram_chat_id: !secret telegram_chat_id

frontend:
  themes: !include_dir_merge_named themes

homeassistant:
  packages: !include_dir_named packages

lovelace:
  mode: yaml
  dashboards:
    desktop-dashboard:
      mode: yaml
      title: Desktop
      icon: mdi:monitor
      show_in_sidebar: true
      filename: ui-desktop.yaml
    smartmeter-example:
      mode: yaml
      title: SmartMeter
      icon: mdi:speedometer
      show_in_sidebar: true
      filename: example/smartmeter-dash2.yaml
  resources:
    - url: /hacsfiles/advanced-camera-card/advanced-camera-card.js
      type: module
    - url: /hacsfiles/apexcharts-card/apexcharts-card.js
      type: module
    - url: /hacsfiles/button-card/button-card.js
      type: module
    - url: /hacsfiles/kiosk-mode/kiosk-mode.js
      type: module
    - url: /hacsfiles/lovelace-card-mod/card-mod.js
      type: module
    - url: /hacsfiles/lovelace-mushroom/mushroom.js
      type: module
    - url: /hacsfiles/mini-graph-card/mini-graph-card-bundle.js
      type: module
    - url: /hacsfiles/modern-circular-gauge/modern-circular-gauge.js
      type: module
